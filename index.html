<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>For You</title>

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <style>
    * { 
      box-sizing: border-box; 
      -webkit-tap-highlight-color: transparent; 
    }

    body {
      margin: 0;
      background-color: #f7f3f5;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      transition: background-color 1s ease;
      overflow: hidden; /* –§–∏–∫—Å–∏—Ä—É–µ–º —ç–∫—Ä–∞–Ω –¥–ª—è –º–æ–±–∏–ª–æ–∫ */
      overscroll-behavior: none;
    }

    .container {
      display: flex;
      height: 100vh;
      padding: 24px;
      gap: 24px;
    }

    .side {
      flex: 1;
      border-radius: 30px;
      background: linear-gradient(to bottom, #fdecef, #ffffff);
      animation: breathe 8s ease-in-out infinite;
      box-shadow: inset 0 0 20px rgba(255,255,255,0.5);
    }

    @keyframes breathe {
      0%, 100% { transform: scale(1); opacity: 0.7; }
      50% { transform: scale(1.02); opacity: 1; }
    }

    .center {
      flex: 2;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding-top: 8vh;
      z-index: 1;
      animation: fadeIn 2s ease-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .center img {
      width: 85%;
      max-width: 380px;
      border-radius: 30px;
      border: 8px solid white;
      box-shadow: 0 15px 35px rgba(232, 205, 212, 0.4);
      transition: transform 0.1s ease;
      cursor: pointer;
      user-select: none;
      touch-action: manipulation; /* –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è —Ç–∞—á–µ–π */
    }

    .center img:active {
      transform: scale(0.95);
    }

    .text {
      margin-top: 25px;
      font-size: 18px;
      color: #6b5b60;
      text-align: center;
      max-width: 85%;
      line-height: 1.4;
      font-weight: 300;
      /* –ü–ª–∞–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞ */
      transition: opacity 0.4s ease, transform 0.4s ease;
    }

    button {
      margin-top: 20px;
      padding: 14px 32px;
      border-radius: 25px;
      border: 1px solid #e8cdd4;
      background-color: #fff;
      color: #e8cdd4;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 5px 15px rgba(232, 205, 212, 0.3);
      transition: all 0.3s ease;
    }

    button:active {
      transform: scale(0.98);
      background-color: #fdf2f5;
    }

    @media (max-width: 768px) {
      .side { display: none; }
      .container { padding: 15px; }
      .center { padding-top: 8vh; }
      .center img { width: 95%; }
      .text { font-size: 17px; }
    }
  </style>
</head>

<body>

  <div class="container">
    <div class="side"></div>

    <div class="center">
      <img src="naran.jpg" alt="warm photo" id="mainPhoto">

      <div class="text" id="text">–ó–∞–≥—Ä—É–∂–∞—é —É—é—Ç...</div>

      <button id="btnMore">–•–æ—á—É –µ—â—ë</button>
    </div>

    <div class="side"></div>
  </div>

  <script>
    const texts = [
      "–¢—ã —Å–µ–≥–æ–¥–Ω—è –≤—ã–≥–ª—è–¥–∏—à—å —á—É–¥–µ—Å–Ω–æ ‚ú®",
      "–ü—É—Å—Ç—å —ç—Ç–æ—Ç –¥–µ–Ω—å –±—É–¥–µ—Ç –º—è–≥–∫–∏–º –∏ –¥–æ–±—Ä—ã–º",
      "–ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–æ–º–Ω—é, —á—Ç–æ —Ç—ã –æ—Å–æ–±–µ–Ω–Ω–∞—è üå∏",
      "–°–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ –≤ –¥–µ—Ç–∞–ª—è—Ö, —Ä–∞–¥–æ—Å—Ç—å –≤ –º–æ–º–µ–Ω—Ç–∞—Ö",
      "–°–∏—è–π, —Ç–µ–±–µ —ç—Ç–æ –æ—á–µ–Ω—å –∏–¥–µ—Ç!",
      "–ú—è–≥–∫–æ. –¢–∏—Ö–æ. –•–æ—Ä–æ—à–æ."
    ];

    let index = 0;
    let isLaunching = false;

    const photo = document.getElementById('mainPhoto');
    const textElement = document.getElementById("text");
    const btn = document.getElementById("btnMore");

    // –§—É–Ω–∫—Ü–∏—è —Å–∞–ª—é—Ç–∞
    function shoot(e) {
      if (isLaunching) return; // –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ª–∏—à–∫–æ–º —á–∞—Å—Ç—ã—Ö –∫–ª–∏–∫–æ–≤
      isLaunching = true;
      setTimeout(() => isLaunching = false, 100);

      const rect = photo.getBoundingClientRect();
      // –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –≤–∑—Ä—ã–≤ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ñ–æ—Ç–æ, –µ—Å–ª–∏ –∫–ª–∏–∫ –±—ã–ª –Ω–µ—Ç–æ—á–Ω—ã–º (–¥–ª—è —Ç–∞—á–µ–π)
      const x = (e.clientX || (e.touches && e.touches[0].clientX)) / window.innerWidth;
      const y = (e.clientY || (e.touches && e.touches[0].clientY)) / window.innerHeight;

      confetti({
        particleCount: 50,
        spread: 60,
        origin: { x, y },
        colors: ['#e8cdd4', '#fdecef', '#ffb6c1'],
        ticks: 200 // –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ —á–∞—Å—Ç–∏—Ü
      });
    }

    // –°–ª—É—à–∞—Ç–µ–ª–∏ —Å–æ–±—ã—Ç–∏–π
    photo.addEventListener('touchstart', (e) => {
        shoot(e);
    }, {passive: true});

    photo.addEventListener('click', (e) => {
        shoot(e);
    });

    // –ö—Ä–∞—Å–∏–≤–∞—è —Å–º–µ–Ω–∞ —Ç–µ–∫—Å—Ç–∞
    function changeText() {
      textElement.style.opacity = 0;
      textElement.style.transform = "translateY(10px)";
      
      setTimeout(() => {
        index = (index + 1) % texts.length;
        textElement.innerText = texts[index];
        textElement.style.opacity = 1;
        textElement.style.transform = "translateY(0)";
      }, 400);
    }

    btn.addEventListener('click', changeText);

    window.onload = () => {
      const hour = new Date().getHours();
      let welcome = hour < 12 ? "–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ! ‚òï" : hour < 18 ? "–ß—É–¥–µ—Å–Ω–æ–≥–æ –¥–Ω—è! ‚ú®" : "–£—é—Ç–Ω–æ–≥–æ –≤–µ—á–µ—Ä–∞... üåô";
      textElement.innerText = welcome;
    };
  </script>
</body>
</html>